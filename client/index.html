<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="shortcut icon" href="img/icon.ico" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link
      type="text/css"
      rel="stylesheet"
      href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css"
    />
    <link
      href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/spacelab/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sZG5VVk41YqhJjYXgJFoRVd3d2AdDgy4oyIytQJMGx/Mizz1N+5bgKQBSCGfKQnP"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css"
    />
    <link
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.quilljs.com/1.3.6/quill.snow.css"
      rel="stylesheet"
    />

    <!-- load custom css -->
    <link href="css/custom.css" rel="stylesheet" />
    <link href="css/signin.css" rel="stylesheet" />

    <!-- load vue and bootstrap vue -->

    <!-- load google platform api -->
    <script src="https://apis.google.com/js/platform.js"></script>

    <meta
      name="google-signin-client_id"
      content="647848106811-cm0ck452dmhg5b8g38n0dh2bu8ovv7hh.apps.googleusercontent.com"
    />
    <title>Mini WP</title>
  </head>
  <body>
    <div id="app" class="h-100">
      <!-- ============================================================================================================= LOGIN PAGE -->
      <div
        v-if="isLogin === false && isOnPage =='login'"
        class="h-100 d-flex align-items-center"
      >
        <form class="form-signin p-3 border" @submit.prevent="login">
          <div class="m-5">
            <center class="mb-4">
              <div class="my-3">
                <i
                  class="fa fa-pencil fa-5x text-primary border rounded-circle p-5 cus-shadow"
                  aria-hidden="true"
                ></i>
              </div>
              <h1>Mini WP</h1>
            </center>
            <center>
              <h5 class="font-weight-normal">Sign in to proceed</h5>
            </center>
            <div class="my-3">
              <label for="email" class="sr-only">Email address</label>
              <input
                v-model="inputLoginRegister.email"
                type="email"
                id="email"
                class="form-control"
                placeholder="Email address"
              />
              <label for="password" class="sr-only">Password</label>
              <input
                v-model="inputLoginRegister.password"
                type="password"
                id="password"
                class="form-control"
                placeholder="Password"
              />
            </div>
            <button class="btn btn-lg btn-primary btn-block my-3" type="submit">
              Sign in
            </button>
            <div class="row mt-3 mb-3 align-items-center">
              <div class="col-md-7 mt-2">
                <small>
                  Have a Google account? Access this app using your Google
                  account!
                </small>
              </div>
              <div class="col-md-5 mt-2 justify-content-center">
                <center>
                  <div id="g-signin2"></div>
                </center>
              </div>
            </div>
            <div class="text-center">
              New to Us?
              <a href="" @click.prevent.prevent="page_register">Register</a>
            </div>
            <center>
              <p class="mt-3 mb-3 text-muted">© Novi Irnawati</p>
            </center>
          </div>
        </form>
      </div>

      <!-- ========================================================================================================== REGISTER PAGE -->
      <div
        v-if="isLogin === false && isOnPage =='register'"
        class="h-100 d-flex align-items-center"
      >
        <form class="form-signin p-3 border" @submit.prevent="register">
          <div class="m-5">
            <center class="mb-4">
              <div class="my-3">
                <i
                  class="fa fa-pencil fa-5x text-primary border rounded-circle p-5 cus-shadow"
                  aria-hidden="true"
                ></i>
              </div>
              <h1>Mini WP</h1>
            </center>
            <center>
              <h5 class="font-weight-normal">Register new account</h5>
            </center>
            <div class="my-3">
              <label for="name" class="sr-only">Name</label>
              <input
                v-model="inputLoginRegister.name"
                type="text"
                id="name"
                class="form-control"
                placeholder="Name"
              />

              <label for="email" class="sr-only">Email address</label>
              <input
                v-model="inputLoginRegister.email"
                type="email"
                id="email"
                class="form-control"
                placeholder="Email address"
              />

              <label for="password" class="sr-only">Password</label>
              <input
                v-model="inputLoginRegister.password"
                type="password"
                id="password"
                class="form-control"
                placeholder="Password"
              />
            </div>
            <button class="btn btn-lg btn-primary btn-block my-3" type="submit">
              Register
            </button>
            <div class="text-center">
              Have an account?
              <a href="" @click.prevent.prevent="page_login">Login</a>
            </div>
            <center>
              <p class="mt-3 mb-3 text-muted">© Novi Irnawati</p>
            </center>
          </div>
        </form>
      </div>

      <!-- ========================================================================================================= NAVIGATION BAR -->
      <nav
        v-if="isLogin === true"
        class="navbar navbar-expand-lg navbar-light bg-light text-center"
      >
        <a class="navbar-brand" href=""
          ><i class="fa fa-pencil text-primary fa-2x" aria-hidden="true"></i
          ><br /><small>MINI WP</small></a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarToggle"
          aria-controls="navbarToggle"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarToggle">
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item mx-3 text-center">
              <a
                @click.prevent="page_articles"
                v-if="isOnPage !== 'articles'"
                class="nav-link"
                href=""
                ><i class="fa fa-newspaper-o" aria-hidden="true"></i
                ><br />Feeds</a
              >
              <a class="nav-link" v-if="isOnPage === 'articles'" href=""
                ><i class="fa fa-newspaper-o" aria-hidden="true"></i
                ><br />Feeds</a
              >
            </li>
            <li class="nav-item mx-3 text-center">
              <a
                class="nav-link"
                href=""
                @click.prevent="page_myarticles"
                v-if="isOnPage !== 'myarticles'"
                ><i class="fa fa-bookmark-o" aria-hidden="true"></i><br />My
                Articles</a
              >
              <a class="nav-link" href="" v-if="isOnPage === 'myarticles'"
                ><i class="fa fa-bookmark-o" aria-hidden="true"></i><br />My
                Articles</a
              >
            </li>
            <li class="nav-item mx-3 text-center">
              <a
                class="nav-link"
                href=""
                @click.prevent="page_setting"
                v-if="isOnPage !== 'setting'"
                ><i class="fa fa-user-circle" aria-hidden="true"></i><br />
                Account
              </a>
              <a class="nav-link" href="" v-if="isOnPage === 'setting'"
                ><i class="fa fa-user-circle" aria-hidden="true"></i><br />
                Account
              </a>
            </li>
          </ul>
          <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
            <li class="nav-item mx-3 text-center">
              <a
                class="nav-link"
                @click.prevent="page_newarticle"
                v-if="isOnPage !== 'newarticle'"
                href=""
              >
                <i class="fa fa-plus" aria-hidden="true"></i><br />
                Write</a
              >

              <a class="nav-link" v-if="isOnPage === 'newarticle'" href="">
                <i class="fa fa-plus" aria-hidden="true"></i><br />
                Write</a
              >
            </li>
            <li class="nav-item mx-3 text-center" @click.prevent="logout">
              <a class="nav-link" href=""
                ><i class="fa fa-sign-out" aria-hidden="true"></i><br />Sign
                Out</a
              >
            </li>
          </ul>
        </div>
      </nav>

      <!-- ================================================================================================================== FEEDS -->
      <div v-if="isLogin === true && isOnPage =='articles'" class="p-5"></div>

      <!-- ============================================================================================================ MY ARTICLES -->
      <div v-if="isLogin === true && isOnPage =='myarticles'" class="p-5">
        halaman artikel ku
      </div>

      <!-- ========================================================================================================== WRITE ARTICLE -->
      <div v-if="isLogin === true && isOnPage =='newarticle'" class="px-5 pt-5">
        <div class="container-fluid row w-100 px-0 mx-0 justify-content-center">
          <div class="col-lg-9 p-3 d-flex justify-content-center">
            <div class="row">
              <div class="col-12">
                <h3 class="text-center mb-4">Write New Article</h3>
              </div>
              <div class="col-12 mt-2" style="margin-bottom: -2px;">
                <input
                  type="text"
                  v-model="inputArticle.title"
                  placeholder="Article Title"
                  class="form-control heading"
                />
              </div>
              <div class="col-12">
                <div id="editor"></div>
              </div>
              <div class="col-12 mt-2">
                <div>
                  <label for="selectedPicture">Upload Featured Image</label>
                  <small class="text-danger"> Required</small>
                  <input
                    @change="selectArticlePic"
                    id="selectedPicture"
                    type="file"
                    class="form-control-file"
                    placeholder="Profile Picture"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-2 p-3 d-flex justify-content-center">
            <div class="row p-3 d-flex">
              <div class="col-12 align-self-start">
                <div class="p-3">
                  <div class="my-5">
                    <h5>Author</h5>
                    <i class="fa fa-user"></i> {{ loggedInUser.name }}
                  </div>
                  <div class="my-5">
                    <h5>Date</h5>
                    <i class="fa fa-calendar"></i>
                    {{ new Date().toDateString() }}
                  </div>
                  <form class="mt-5 mb-3" @submit.prevent="addTag">
                    <label for="tags"><h5>Tags</h5></label>
                    <input
                      class="form-control"
                      id="tags"
                      type="text"
                      placeholder="Tag"
                      v-model="inputTag"
                    />
                  </form>
                  <div v-if="inputArticle.tags.length > 0">
                    <div class="row mx-1">
                      <div v-for="tag in inputArticle.tags">
                        <p
                          class="mx-2 custom-hov-red"
                          @click.prevent="removeTag(tag)"
                        >
                          <span class="badge badge-secondary">
                            <i class="fa fa-tags mr-1"></i>
                            {{ tag }}
                          </span>
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-12 align-self-end">
                <div class="row">
                  <button
                    class="btn btn-block btn-success mx-auto mb-3"
                    @click="newArticle('post')"
                  >
                    <i class="fa fa-paper-plane fa-1x" aria-hidden="true"></i>
                    POST
                  </button>
                  <button
                    class="btn btn-block btn-warning mx-auto"
                    @click="newArticle('save')"
                  >
                    <i class="fa fa-floppy-o fa-1x" aria-hidden="true"></i> SAVE
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- =========================================================================================================== EDIT ARTICLE -->
      <div v-if="isLogin === true && isOnPage =='editarticle'" class="p-5">
        <div class="container">
          halaman edit artikel/feeds
        </div>
      </div>

      <!-- =========================================================================================================== READ ARTICLE -->
      <div v-if="isLogin === true && isOnPage =='viewarticle'" class="p-5">
        <div class="container">
          halaman lihat detail artikel/feeds
        </div>
      </div>

      <!-- =========================================================================================================== SETTING USER -->
      <div v-if="isLogin === true && isOnPage =='setting'" class="p-5">
        <div class="container">
          <div class="container border-top border-left border-right p-3 mx-1">
            <center class="col-12 my-3">
              <div class="col-12">
                <div class="row my-1 justify-content-center">
                  <img
                    class="img-thumbnail rounded-circle"
                    height="140"
                    width="140"
                    v-bind:src="loggedInUser.picture"
                  />
                </div>
                <div class="row my-3 justify-content-center">
                  <div class="col-12">
                    <h5>
                      {{ loggedInUser.name }}
                    </h5>
                    <small class="text-muted my-3">
                      user ID : {{ loggedInUser._id }}
                    </small>
                    <p class="my-1">
                      <b>
                        {{ loggedInUser.email }}
                      </b>
                    </p>
                  </div>
                </div>
              </div>
            </center>
          </div>
          <div
            class="container border-bottom border-left border-right p-3 mx-1"
          >
            <div class="col-12 my-3">
              <form class="my-3" @submit.prevent="updateAccount">
                <div class="form-group">
                  <label for="changeName">Change Name</label>
                  <input
                    v-model="userChange.name"
                    type="text"
                    class="form-control"
                    id="changeName"
                    placeholder="Name"
                  />
                </div>
                <div class="form-group">
                  <label for="changePassword">Change Password</label>
                  <input
                    v-model="userChange.password"
                    type="password"
                    class="form-control"
                    id="changePassword"
                    placeholder="Password"
                  />
                </div>
                <div class="form-group">
                  <label for="selectedPicture">Profile Picture</label>
                  <input
                    @change="selectProfilePic"
                    id="selectedPicture"
                    type="file"
                    class="form-control-file"
                    placeholder="Profile Picture"
                  />
                </div>
                <center class="mt-5 my-3">
                  <button type="submit" class="btn btn-lg btn-primary mx-2">
                    Update Your Account Detail
                  </button>
                </center>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- CLOSING TAG DIV #APP -->
    </div>

    <!-- =================================================================================================================== OTHERS -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <!-- ================================================================================================================ BOOTSTRAP  -->
    <script
      src="https://code.jquery.com/jquery-3.4.1.js"
      integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>

    <!-- ======================================================================================================================= VUE -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>

    <script src="js/vue.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
