<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/style.css">
  <title>Mini WP</title>
</head>
<body>
  <div id="app">
    <register-login
      id="outside" :section="section" @section="goTo" @login="loggedIn = true" v-if="!loggedIn">
    </register-login>
    <div id="inside" v-if="loggedIn">
      <!-- Navbar -->
      <nav-component :section="section" @section="goTo" @logout="loggedIn = false"></nav-component>
      <div id="container">
        <!-- Write Section -->
        <section id="writesection" v-if="section === 3">
          <input id="articletitle" type="text" v-model="editor.title" placeholder="Enter Title..." autofocus required>
          <tip-tap :clear="clearEditor" @editor="updateEditor"></tip-tap>
          <form class="articleform" enctype="multipart/form-data">
            <div style="margin-bottom: 0.5rem;">
              <label for="tags">Tags:&nbsp;</label>
              <input type="text" id="tags" name="tags" v-model="editor.tags" placeholder="Enter comma-seperated tags (optional)">
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <span>
                <label for="fileinput" id="uploadbutton">Upload Image</label>
                <input id="fileinput" class="button" type="file" name="pic" accept="image/*" @change="fileSelect" hidden>
                <span v-show="file">
                  <span class="selectedfile">{{filename}}</span>
                  <span style="font-size: 1.5rem; vertical-align: -7%; cursor: pointer;" @click="clearFile">Ã—</span>
                </span>
              </span>
              <button class="button button2" type="submit" @click.prevent="saveArticle">Publish Article</button>
            </div>
          </form>
          <p style="color: white;" v-show="alert">
            {{alert}}
          </p>
        </section>
        <!-- Explore Section -->
        <section id="exploresection" v-if="section === 4">
          <div id="tags1">
            <span>Tags: </span>
            <div class="tagbutton" :class={selected: (selectedTag === tag)} v-for="tag of currentTags" @click="selectTag(tag)">
              {{tag}}
            </div>
          </div>
          <div id="list1">
            <div class="card" v-for="article of allArticles">
              <div class="articleimage">
                <img :src="article.imageUrl">
              </div>
              <div class="cardcontent">
                {{article.title}}
                {{article.author.email}}
                {{article.tags}}
              </div>
            </div>
          </div>
        </section>
        <!-- My Articles Section -->
        <section id="myarticlessection" v-if="section === 5">
          <div id="list2">
            <div class="card" v-for="article of myArticles">
              {{article.author.email}} {{article.title}} {{article.imageUrl}}
            </div>
          </div>
        </section>
        <!-- My Account Section -->
        <section id="accountsection" v-if="section === 6">
          account
        </section>
      </div>
    </div>
  </div>
  <script src="./dist/bundle.js"></script>
</body>
</html>