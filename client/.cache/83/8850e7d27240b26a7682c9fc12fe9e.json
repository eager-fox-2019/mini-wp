{"id":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","dependencies":[{"name":"/home/dion/Documents/phase-2/miniwp/client/package.json","includedInParent":true,"mtime":1561266555484},{"name":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/package.json","includedInParent":true,"mtime":1561266555348},{"name":"./value-types","loc":{"line":3,"column":28},"parent":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","resolved":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/dist/commonjs/value-types.js"},{"name":"./mentions/MentionSanitizer","loc":{"line":4,"column":33},"parent":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","resolved":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/dist/commonjs/mentions/MentionSanitizer.js"},{"name":"./helpers/url","loc":{"line":5,"column":18},"parent":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","resolved":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/dist/commonjs/helpers/url.js"},{"name":"./funcs-html","loc":{"line":6,"column":27},"parent":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","resolved":"/home/dion/Documents/phase-2/miniwp/client/node_modules/quill-delta-to-html/dist/commonjs/funcs-html.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar value_types_1 = require(\"./value-types\");\nvar MentionSanitizer_1 = require(\"./mentions/MentionSanitizer\");\nvar url = require(\"./helpers/url\");\nvar funcs_html_1 = require(\"./funcs-html\");\nvar OpAttributeSanitizer = (function () {\n    function OpAttributeSanitizer() {\n    }\n    OpAttributeSanitizer.sanitize = function (dirtyAttrs, sanitizeOptions) {\n        var cleanAttrs = {};\n        if (!dirtyAttrs || typeof dirtyAttrs !== 'object') {\n            return cleanAttrs;\n        }\n        var booleanAttrs = [\n            'bold', 'italic', 'underline', 'strike', 'code',\n            'blockquote', 'code-block', 'renderAsBlock'\n        ];\n        var colorAttrs = ['background', 'color'];\n        var font = dirtyAttrs.font, size = dirtyAttrs.size, link = dirtyAttrs.link, script = dirtyAttrs.script, list = dirtyAttrs.list, header = dirtyAttrs.header, align = dirtyAttrs.align, direction = dirtyAttrs.direction, indent = dirtyAttrs.indent, mentions = dirtyAttrs.mentions, mention = dirtyAttrs.mention, width = dirtyAttrs.width, target = dirtyAttrs.target, rel = dirtyAttrs.rel;\n        var sanitizedAttrs = booleanAttrs.concat(colorAttrs, ['font', 'size', 'link', 'script', 'list', 'header', 'align',\n            'direction', 'indent', 'mentions', 'mention', 'width',\n            'target', 'rel']);\n        booleanAttrs.forEach(function (prop) {\n            var v = dirtyAttrs[prop];\n            if (v) {\n                cleanAttrs[prop] = !!v;\n            }\n        });\n        colorAttrs.forEach(function (prop) {\n            var val = dirtyAttrs[prop];\n            if (val && (OpAttributeSanitizer.IsValidHexColor(val + '') ||\n                OpAttributeSanitizer.IsValidColorLiteral(val + '') ||\n                OpAttributeSanitizer.IsValidRGBColor(val + ''))) {\n                cleanAttrs[prop] = val;\n            }\n        });\n        if (font && OpAttributeSanitizer.IsValidFontName(font + '')) {\n            cleanAttrs.font = font;\n        }\n        if (size && OpAttributeSanitizer.IsValidSize(size + '')) {\n            cleanAttrs.size = size;\n        }\n        if (width && OpAttributeSanitizer.IsValidWidth(width + '')) {\n            cleanAttrs.width = width;\n        }\n        if (link) {\n            cleanAttrs.link = OpAttributeSanitizer.sanitizeLinkUsingOptions(link + '', sanitizeOptions);\n        }\n        if (target && OpAttributeSanitizer.isValidTarget(target)) {\n            cleanAttrs.target = target;\n        }\n        if (rel && OpAttributeSanitizer.IsValidRel(rel)) {\n            cleanAttrs.rel = rel;\n        }\n        if (script === value_types_1.ScriptType.Sub || value_types_1.ScriptType.Super === script) {\n            cleanAttrs.script = script;\n        }\n        if (list === value_types_1.ListType.Bullet || list === value_types_1.ListType.Ordered || list === value_types_1.ListType.Checked || list === value_types_1.ListType.Unchecked) {\n            cleanAttrs.list = list;\n        }\n        if (Number(header)) {\n            cleanAttrs.header = Math.min(Number(header), 6);\n        }\n        if (align === value_types_1.AlignType.Center || align === value_types_1.AlignType.Right || align === value_types_1.AlignType.Justify) {\n            cleanAttrs.align = align;\n        }\n        if (direction === value_types_1.DirectionType.Rtl) {\n            cleanAttrs.direction = direction;\n        }\n        if (indent && Number(indent)) {\n            cleanAttrs.indent = Math.min(Number(indent), 30);\n        }\n        if (mentions && mention) {\n            var sanitizedMention = MentionSanitizer_1.MentionSanitizer.sanitize(mention, sanitizeOptions);\n            if (Object.keys(sanitizedMention).length > 0) {\n                cleanAttrs.mentions = !!mentions;\n                cleanAttrs.mention = mention;\n            }\n        }\n        return Object.keys(dirtyAttrs).reduce(function (cleaned, k) {\n            if (sanitizedAttrs.indexOf(k) === -1) {\n                cleaned[k] = dirtyAttrs[k];\n            }\n            ;\n            return cleaned;\n        }, cleanAttrs);\n    };\n    OpAttributeSanitizer.sanitizeLinkUsingOptions = function (link, options) {\n        var sanitizerFn = function () { return undefined; };\n        if (options && typeof options.urlSanitizer === 'function') {\n            sanitizerFn = options.urlSanitizer;\n        }\n        var result = sanitizerFn(link);\n        return typeof result === 'string' ?\n            result :\n            funcs_html_1.encodeLink(url.sanitize(link));\n    };\n    OpAttributeSanitizer.IsValidHexColor = function (colorStr) {\n        return !!colorStr.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i);\n    };\n    OpAttributeSanitizer.IsValidColorLiteral = function (colorStr) {\n        return !!colorStr.match(/^[a-z]{1,50}$/i);\n    };\n    OpAttributeSanitizer.IsValidRGBColor = function (colorStr) {\n        var re = /^rgb\\(((0|25[0-5]|2[0-4]\\d|1\\d\\d|0?\\d?\\d),\\s*){2}(0|25[0-5]|2[0-4]\\d|1\\d\\d|0?\\d?\\d)\\)$/i;\n        return !!colorStr.match(re);\n    };\n    OpAttributeSanitizer.IsValidFontName = function (fontName) {\n        return !!fontName.match(/^[a-z\\s0-9\\- ]{1,30}$/i);\n    };\n    OpAttributeSanitizer.IsValidSize = function (size) {\n        return !!size.match(/^[a-z0-9\\-]{1,20}$/i);\n    };\n    OpAttributeSanitizer.IsValidWidth = function (width) {\n        return !!width.match(/^[0-9]*(px|em|%)?$/);\n    };\n    OpAttributeSanitizer.isValidTarget = function (target) {\n        return !!target.match(/^[_a-zA-Z0-9\\-]{1,50}$/);\n    };\n    OpAttributeSanitizer.IsValidRel = function (relStr) {\n        return !!relStr.match(/^[a-zA-Z\\s\\-]{1,250}$/i);\n    };\n    return OpAttributeSanitizer;\n}());\nexports.OpAttributeSanitizer = OpAttributeSanitizer;\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}}],"sources":{"node_modules/quill-delta-to-html/dist/commonjs/OpAttributeSanitizer.js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar value_types_1 = require(\"./value-types\");\nvar MentionSanitizer_1 = require(\"./mentions/MentionSanitizer\");\nvar url = require(\"./helpers/url\");\nvar funcs_html_1 = require(\"./funcs-html\");\nvar OpAttributeSanitizer = (function () {\n    function OpAttributeSanitizer() {\n    }\n    OpAttributeSanitizer.sanitize = function (dirtyAttrs, sanitizeOptions) {\n        var cleanAttrs = {};\n        if (!dirtyAttrs || typeof dirtyAttrs !== 'object') {\n            return cleanAttrs;\n        }\n        var booleanAttrs = [\n            'bold', 'italic', 'underline', 'strike', 'code',\n            'blockquote', 'code-block', 'renderAsBlock'\n        ];\n        var colorAttrs = ['background', 'color'];\n        var font = dirtyAttrs.font, size = dirtyAttrs.size, link = dirtyAttrs.link, script = dirtyAttrs.script, list = dirtyAttrs.list, header = dirtyAttrs.header, align = dirtyAttrs.align, direction = dirtyAttrs.direction, indent = dirtyAttrs.indent, mentions = dirtyAttrs.mentions, mention = dirtyAttrs.mention, width = dirtyAttrs.width, target = dirtyAttrs.target, rel = dirtyAttrs.rel;\n        var sanitizedAttrs = booleanAttrs.concat(colorAttrs, ['font', 'size', 'link', 'script', 'list', 'header', 'align',\n            'direction', 'indent', 'mentions', 'mention', 'width',\n            'target', 'rel']);\n        booleanAttrs.forEach(function (prop) {\n            var v = dirtyAttrs[prop];\n            if (v) {\n                cleanAttrs[prop] = !!v;\n            }\n        });\n        colorAttrs.forEach(function (prop) {\n            var val = dirtyAttrs[prop];\n            if (val && (OpAttributeSanitizer.IsValidHexColor(val + '') ||\n                OpAttributeSanitizer.IsValidColorLiteral(val + '') ||\n                OpAttributeSanitizer.IsValidRGBColor(val + ''))) {\n                cleanAttrs[prop] = val;\n            }\n        });\n        if (font && OpAttributeSanitizer.IsValidFontName(font + '')) {\n            cleanAttrs.font = font;\n        }\n        if (size && OpAttributeSanitizer.IsValidSize(size + '')) {\n            cleanAttrs.size = size;\n        }\n        if (width && OpAttributeSanitizer.IsValidWidth(width + '')) {\n            cleanAttrs.width = width;\n        }\n        if (link) {\n            cleanAttrs.link = OpAttributeSanitizer.sanitizeLinkUsingOptions(link + '', sanitizeOptions);\n        }\n        if (target && OpAttributeSanitizer.isValidTarget(target)) {\n            cleanAttrs.target = target;\n        }\n        if (rel && OpAttributeSanitizer.IsValidRel(rel)) {\n            cleanAttrs.rel = rel;\n        }\n        if (script === value_types_1.ScriptType.Sub || value_types_1.ScriptType.Super === script) {\n            cleanAttrs.script = script;\n        }\n        if (list === value_types_1.ListType.Bullet || list === value_types_1.ListType.Ordered || list === value_types_1.ListType.Checked || list === value_types_1.ListType.Unchecked) {\n            cleanAttrs.list = list;\n        }\n        if (Number(header)) {\n            cleanAttrs.header = Math.min(Number(header), 6);\n        }\n        if (align === value_types_1.AlignType.Center || align === value_types_1.AlignType.Right || align === value_types_1.AlignType.Justify) {\n            cleanAttrs.align = align;\n        }\n        if (direction === value_types_1.DirectionType.Rtl) {\n            cleanAttrs.direction = direction;\n        }\n        if (indent && Number(indent)) {\n            cleanAttrs.indent = Math.min(Number(indent), 30);\n        }\n        if (mentions && mention) {\n            var sanitizedMention = MentionSanitizer_1.MentionSanitizer.sanitize(mention, sanitizeOptions);\n            if (Object.keys(sanitizedMention).length > 0) {\n                cleanAttrs.mentions = !!mentions;\n                cleanAttrs.mention = mention;\n            }\n        }\n        return Object.keys(dirtyAttrs).reduce(function (cleaned, k) {\n            if (sanitizedAttrs.indexOf(k) === -1) {\n                cleaned[k] = dirtyAttrs[k];\n            }\n            ;\n            return cleaned;\n        }, cleanAttrs);\n    };\n    OpAttributeSanitizer.sanitizeLinkUsingOptions = function (link, options) {\n        var sanitizerFn = function () { return undefined; };\n        if (options && typeof options.urlSanitizer === 'function') {\n            sanitizerFn = options.urlSanitizer;\n        }\n        var result = sanitizerFn(link);\n        return typeof result === 'string' ?\n            result :\n            funcs_html_1.encodeLink(url.sanitize(link));\n    };\n    OpAttributeSanitizer.IsValidHexColor = function (colorStr) {\n        return !!colorStr.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i);\n    };\n    OpAttributeSanitizer.IsValidColorLiteral = function (colorStr) {\n        return !!colorStr.match(/^[a-z]{1,50}$/i);\n    };\n    OpAttributeSanitizer.IsValidRGBColor = function (colorStr) {\n        var re = /^rgb\\(((0|25[0-5]|2[0-4]\\d|1\\d\\d|0?\\d?\\d),\\s*){2}(0|25[0-5]|2[0-4]\\d|1\\d\\d|0?\\d?\\d)\\)$/i;\n        return !!colorStr.match(re);\n    };\n    OpAttributeSanitizer.IsValidFontName = function (fontName) {\n        return !!fontName.match(/^[a-z\\s0-9\\- ]{1,30}$/i);\n    };\n    OpAttributeSanitizer.IsValidSize = function (size) {\n        return !!size.match(/^[a-z0-9\\-]{1,20}$/i);\n    };\n    OpAttributeSanitizer.IsValidWidth = function (width) {\n        return !!width.match(/^[0-9]*(px|em|%)?$/);\n    };\n    OpAttributeSanitizer.isValidTarget = function (target) {\n        return !!target.match(/^[_a-zA-Z0-9\\-]{1,50}$/);\n    };\n    OpAttributeSanitizer.IsValidRel = function (relStr) {\n        return !!relStr.match(/^[a-zA-Z\\s\\-]{1,250}$/i);\n    };\n    return OpAttributeSanitizer;\n}());\nexports.OpAttributeSanitizer = OpAttributeSanitizer;\n"},"lineCount":127}},"error":null,"hash":"2c201378129dc2ab6993b8be69df53d5","cacheData":{"env":{}}}